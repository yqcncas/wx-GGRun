(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["packageA/address/address"],{"04bd":function(e,t,s){},1979:function(e,t,s){"use strict";s.r(t);var r=s("dff5"),n=s("42a7");for(var d in n)"default"!==d&&function(e){s.d(t,e,(function(){return n[e]}))}(d);s("3abd");var a,i=s("f0c5"),u=Object(i["a"])(n["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],a);t["default"]=u.exports},"3abd":function(e,t,s){"use strict";var r=s("04bd"),n=s.n(r);n.a},"42a7":function(e,t,s){"use strict";s.r(t);var r=s("8760"),n=s.n(r);for(var d in r)"default"!==d&&function(e){s.d(t,e,(function(){return r[e]}))}(d);t["default"]=n.a},"7be1":function(e,t,s){"use strict";(function(e){s("297d");r(s("66fd"));var t=r(s("1979"));function r(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,s("543d")["createPage"])},8760:function(e,t,s){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(s("4795"));function n(e){return e&&e.__esModule?e:{default:e}}function d(e){return o(e)||u(e)||i(e)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(e){if("string"===typeof e)return l(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(s):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?l(e,t):void 0}}function u(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function o(e){if(Array.isArray(e))return l(e)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,r=new Array(t);s<t;s++)r[s]=e[s];return r}function c(e,t,s,r,n,d,a){try{var i=e[d](a),u=i.value}catch(o){return void s(o)}i.done?t(u):Promise.resolve(u).then(r,n)}function f(e){return function(){var t=this,s=arguments;return new Promise((function(r,n){var d=e.apply(t,s);function a(e){c(d,r,n,a,i,"next",e)}function i(e){c(d,r,n,a,i,"throw",e)}a(void 0)}))}}var h={onLoad:function(e){this.addressStatus=e.address},onShow:function(){this.initAddress()},onUnload:function(){0===this.userAddress.length&&e.removeStorageSync("sendAddress")},data:function(){return{circleIndex:0,addressStatus:0,userAddress:[],hasFlag:!1}},methods:{handleCircle:function(t){var s=this;return f(r.default.mark((function n(){var a;return r.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s.userAddress.forEach((function(e){e.defaultFlag=1})),s.userAddress[t].defaultFlag=0,r.next=4,s.$fetch(s.$api.changeDefault,{id:s.userAddress[t].id},"POST","form");case 4:r.sent,e.showLoading({title:"正在置顶该地址"}),(a=s.userAddress).unshift.apply(a,d(s.userAddress.splice(t,1))),setTimeout((function(){e.hideLoading()}),1e3);case 8:case"end":return r.stop()}}),n)})))()},goToEdit:function(t,s,r){console.log(this.addressStatus),1==this.addressStatus&&e.setStorageSync("noSetSend",!0),0==t?e.navigateTo({url:"../editAddress/editAddress?status="+t}):e.navigateTo({url:"../editAddress/editAddress?addressInfo="+JSON.stringify(t)+"&id="+s+"&status="+r})},storageInfo:function(t,s){if(t.latitude=t.latitude.split(","),console.log(this.addressStatus),console.log(0==this.addressStatus),console.log(1==this.addressStatus),0==this.addressStatus){"undefined"==t.addressDetail[1]&&(t.addressDetail[1]=""),"undefined"==t.addressDetail[2]&&(t.addressDetail[2]="");var r={addressDetail:t.addressDetail[1],latitude:t.latitude[0]+","+t.latitude[1],mobile:t.mobile,name:t.name,province:t.province,city:t.city,area:t.area,id:this.userAddress[s].id,editAddress:{name:t.addressDetail[2],address:t.addressDetail[0],latitude:t.latitude[1],longitude:t.latitude[0]}};e.setStorageSync("sendAddress",JSON.stringify(r)),e.navigateBack({delta:1})}if(1==this.addressStatus){"undefined"==t.addressDetail[1]&&(t.addressDetail[1]=""),"undefined"==t.addressDetail[2]&&(t.addressDetail[2]="");var n={addressDetail:t.addressDetail[1],latitude:t.latitude[0]+","+t.latitude[1],mobile:t.mobile,name:t.name,province:t.province,city:t.city,area:t.area,id:this.userAddress[s].id,editAddress:{name:t.addressDetail[2],address:t.addressDetail[0],latitude:t.latitude[1],longitude:t.latitude[0]}};e.setStorageSync("endAddress",JSON.stringify(n)),e.navigateBack({delta:1})}},initAddress:function(){var t=this;return f(r.default.mark((function s(){var n,a,i,u;return r.default.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=e.getStorageSync("token"),s.next=3,t.$fetch(t.$api.addressList,{token:a},"GET","Form");case 3:for(i=s.sent,t.userAddress=i.data,t.userAddress.forEach((function(e){e.addressDetail=e.addressDetail.split(",")})),u=0;u<t.userAddress.length;u++)t.userAddress[u].defaultFlag||(console.log(u),t.userAddressDefaultFlag=u);(n=t.userAddress).unshift.apply(n,d(t.userAddress.splice(t.userAddressDefaultFlag,1)));case 8:case"end":return s.stop()}}),s)})))()},delAddress:function(t){var s=this;return f(r.default.mark((function n(){return r.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:e.showModal({title:"删除地址",content:"确定删除该地址么",success:function(e){if(e.confirm)s.$fetch(s.$api.delAddress,{id:Number(t)},"POST","form").then((function(e){0===e.code&&s.initAddress()}))}});case 1:case"end":return r.stop()}}),n)})))()}}};t.default=h}).call(this,s("543d")["default"])},dff5:function(e,t,s){"use strict";var r,n=function(){var e=this,t=e.$createElement;e._self._c},d=[];s.d(t,"b",(function(){return n})),s.d(t,"c",(function(){return d})),s.d(t,"a",(function(){return r}))}},[["7be1","common/runtime","common/vendor"]]]);
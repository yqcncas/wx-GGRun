(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["packageA/ChangePwd/changePwd"],{"06b5":function(e,t,n){"use strict";n.r(t);var r=n("990c"),o=n("a991");for(var a in o)"default"!==a&&function(e){n.d(t,e,(function(){return o[e]}))}(a);n("0a8a");var u,c=n("f0c5"),i=Object(c["a"])(o["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],u);t["default"]=i.exports},"0a8a":function(e,t,n){"use strict";var r=n("c6e7"),o=n.n(r);o.a},"990c":function(e,t,n){"use strict";var r,o=function(){var e=this,t=e.$createElement;e._self._c},a=[];n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}))},a991:function(e,t,n){"use strict";n.r(t);var r=n("e50f"),o=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=o.a},ad95:function(e,t,n){"use strict";(function(e){n("297d");r(n("66fd"));var t=r(n("06b5"));function r(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},c6e7:function(e,t,n){},e50f:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n("4795"));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r,o,a,u){try{var c=e[a](u),i=c.value}catch(s){return void n(s)}c.done?t(i):Promise.resolve(i).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var u=e.apply(t,n);function c(e){a(u,r,o,c,i,"next",e)}function i(e){a(u,r,o,c,i,"throw",e)}c(void 0)}))}}var c={data:function(){return{phone:"",code:"",newPwd:"",pwd:"",yzm:"",getYzm:!0,computedTimer:0,status:"",flag:""}},onLoad:function(t){this.status=t.status,this.phone=e.getStorageSync("user_phone"),0==this.status?(this.flag=!0,e.setNavigationBarTitle({title:"忘记密码"})):1==this.status&&(this.flag=!1,e.setNavigationBarTitle({title:"修改密码"}))},onUnload:function(){},methods:{confirm:function(){var t=this;return u(r.default.mark((function n(){var o;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(""!=t.phone.trim()&&""!=t.code.trim()&&""!=t.newPwd&&""!=t.pwd){n.next=3;break}return e.showToast({icon:"none",title:"请填写信息后进行更改"}),n.abrupt("return");case 3:if(t.newPwd==t.pwd){n.next=6;break}return e.showToast({icon:"none",title:"两次输入的密码不一致"}),n.abrupt("return");case 6:return n.next=8,t.$fetch(t.$api.customerForget,{mobile:t.phone,checkCode:t.code,password:t.newPwd},"POST","form");case 8:o=n.sent,console.log(o),0===o.code?(e.showToast({icon:"success",title:"修改成功"}),e.removeStorageSync("user_phone"),e.removeStorageSync("token"),setTimeout((function(){e.reLaunch({url:"../enter/enter"})}),1500)):e.showToast({icon:"none",title:o.msg});case 11:case"end":return n.stop()}}),n)})))()},getCode:function(){var t=this;return u(r.default.mark((function n(){var o,a;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.getYzm){n.next=2;break}return n.abrupt("return");case 2:if(""!=t.phone.trim()){n.next=7;break}return e.showToast({icon:"none",title:"请先输入手机号"}),n.abrupt("return");case 7:if(11==t.phone.length){n.next=10;break}return e.showToast({icon:"none",title:"请检查手机号输入是否正确"}),n.abrupt("return");case 10:return t.getYzm=!1,t.computedTimer=60,o=setInterval((function(){0===t.computedTimer?(clearInterval(o),t.getYzm=!0):t.computedTimer--}),1e3),n.next=15,t.$fetch(t.$api.customerPhone,{mobile:t.phone},"GET","form");case 15:a=n.sent,t.yzm=a.msg;case 17:case"end":return n.stop()}}),n)})))()}}};t.default=c}).call(this,n("543d")["default"])}},[["ad95","common/runtime","common/vendor"]]]);
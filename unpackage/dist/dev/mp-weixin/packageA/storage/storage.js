(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["packageA/storage/storage"],{

/***/ 246:
/*!******************************************************************************!*\
  !*** E:/web-project/GG来送小程序/main.js?{"page":"packageA%2Fstorage%2Fstorage"} ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(createPage) {__webpack_require__(/*! uni-pages */ 4);
var _vue = _interopRequireDefault(__webpack_require__(/*! vue */ 2));
var _storage = _interopRequireDefault(__webpack_require__(/*! ./packageA/storage/storage.vue */ 247));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}
createPage(_storage.default);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["createPage"]))

/***/ }),

/***/ 247:
/*!***********************************************************!*\
  !*** E:/web-project/GG来送小程序/packageA/storage/storage.vue ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _storage_vue_vue_type_template_id_6e32f0b6_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./storage.vue?vue&type=template&id=6e32f0b6&scoped=true& */ 248);
/* harmony import */ var _storage_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./storage.vue?vue&type=script&lang=js& */ 250);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _storage_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _storage_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _storage_vue_vue_type_style_index_0_id_6e32f0b6_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./storage.vue?vue&type=style&index=0&id=6e32f0b6&lang=less&scoped=true& */ 252);
/* harmony import */ var _D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */ 13);

var renderjs





/* normalize component */

var component = Object(_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _storage_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _storage_vue_vue_type_template_id_6e32f0b6_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"],
  _storage_vue_vue_type_template_id_6e32f0b6_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  "6e32f0b6",
  null,
  false,
  _storage_vue_vue_type_template_id_6e32f0b6_scoped_true___WEBPACK_IMPORTED_MODULE_0__["components"],
  renderjs
)

component.options.__file = "E:/web-project/GG来送小程序/packageA/storage/storage.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 248:
/*!******************************************************************************************************!*\
  !*** E:/web-project/GG来送小程序/packageA/storage/storage.vue?vue&type=template&id=6e32f0b6&scoped=true& ***!
  \******************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_storage_vue_vue_type_template_id_6e32f0b6_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./storage.vue?vue&type=template&id=6e32f0b6&scoped=true& */ 249);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_storage_vue_vue_type_template_id_6e32f0b6_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_storage_vue_vue_type_template_id_6e32f0b6_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return _D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_storage_vue_vue_type_template_id_6e32f0b6_scoped_true___WEBPACK_IMPORTED_MODULE_0__["recyclableRender"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "components", function() { return _D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_storage_vue_vue_type_template_id_6e32f0b6_scoped_true___WEBPACK_IMPORTED_MODULE_0__["components"]; });



/***/ }),

/***/ 249:
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/web-project/GG来送小程序/packageA/storage/storage.vue?vue&type=template&id=6e32f0b6&scoped=true& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return recyclableRender; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "components", function() { return components; });
var components = {
  "uni-popup": function() {
    return __webpack_require__.e(/*! import() | components/uni-popup/uni-popup */ "components/uni-popup/uni-popup").then(__webpack_require__.bind(null, /*! @/components/uni-popup/uni-popup.vue */ 336))
  }
}
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  var g0 = JSON.stringify(_vm.shopInfo)
  var g1 = JSON.stringify(_vm.discount)
  var g2 = JSON.stringify(_vm.orderComputed)
  var g3 = JSON.stringify(_vm.orderComputed)
  var g4 = JSON.stringify(_vm.orderComputed)
  var g5 = JSON.stringify(_vm.orderComputed)
  var g6 = JSON.stringify(_vm.orderComputed)
  var g7 = JSON.stringify(_vm.orderComputed)
  var g8 = JSON.stringify(_vm.orderComputed)
  var g9 = JSON.stringify(_vm.discount)
  var g10 = JSON.stringify(_vm.orderComputed)
  var g11 = (
    _vm.orderComputed.taskReward - _vm.orderComputed.payAmount
  ).toFixed(2)
  var g12 = JSON.stringify(_vm.orderComputed)
  _vm.$mp.data = Object.assign(
    {},
    {
      $root: {
        g0: g0,
        g1: g1,
        g2: g2,
        g3: g3,
        g4: g4,
        g5: g5,
        g6: g6,
        g7: g7,
        g8: g8,
        g9: g9,
        g10: g10,
        g11: g11,
        g12: g12
      }
    }
  )
}
var recyclableRender = false
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ 250:
/*!************************************************************************************!*\
  !*** E:/web-project/GG来送小程序/packageA/storage/storage.vue?vue&type=script&lang=js& ***!
  \************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _D_360_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_storage_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./storage.vue?vue&type=script&lang=js& */ 251);
/* harmony import */ var _D_360_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_storage_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_D_360_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_storage_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _D_360_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_storage_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _D_360_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_storage_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_D_360_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_storage_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 251:
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/web-project/GG来送小程序/packageA/storage/storage.vue?vue&type=script&lang=js& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _regenerator = _interopRequireDefault(__webpack_require__(/*! ./node_modules/@vue/babel-preset-app/node_modules/@babel/runtime/regenerator */ 8));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {try {var info = gen[key](arg);var value = info.value;} catch (error) {reject(error);return;}if (info.done) {resolve(value);} else {Promise.resolve(value).then(_next, _throw);}}function _asyncToGenerator(fn) {return function () {var self = this,args = arguments;return new Promise(function (resolve, reject) {var gen = fn.apply(self, args);function _next(value) {asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);}function _throw(err) {asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);}_next(undefined);});};}var uniPopup = function uniPopup() {__webpack_require__.e(/*! require.ensure | components/uni-popup/uni-popup */ "components/uni-popup/uni-popup").then((function () {return resolve(__webpack_require__(/*! @/components/uni-popup/uni-popup.vue */ 336));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var _default =


























































































































































































































































































































































































{
  onLoad: function onLoad(option) {var _this = this;


    //默认地址
    this.initAddress();
    //获取保价金
    this.initorderProperty();
    //富文本
    this.initRichText();
    //获取当前时间
    var nowTime = this.$dayjs().hour();
    this.nowTime = nowTime;

    //更改数组
    ///找到对应的下标
    var arrIndex = this.timer.findIndex(function (value) {
      if (_this.nowTime == value.start) {
        return true;
      }
    });
    //截取字符串
    this.timeList = this.timer.slice(arrIndex + 1);

    //获取余额
    // this.payInfo[0].sectext =  "(" + uni.getStorageSync('user_amount') + ')'

    //获取签收码
    this.signCode = 0;

    if (JSON.stringify(this.sendAddress) == '{}') {
      this.sendAddressShow = true;
    } else {
      this.sendAddressShow = false;
    }
  },
  onShow: function onShow() {

    var phoneData = uni.getSystemInfoSync();
    this.platform = phoneData.platform;


    this.initMyInfo();
    this.initorderProperty();
    this.createOrderTimer = this.$dayjs().hour();
    //起始地址
    if (uni.getStorageSync('sendAddress')) {

      var sendAddress = JSON.parse(uni.getStorageSync('sendAddress'));
      if (sendAddress !== this.sendAddress) {
      }
      this.sendAddress = sendAddress;
    }

    //终点地址
    if (uni.getStorageSync('endAddress')) {
      var endAddress = JSON.parse(uni.getStorageSync('endAddress'));
      this.endAddress = endAddress;
      if (this.endAddress.addressDetail === 'undefined') {
        this.endAddress.addressDetail = '';
      }
    }
    //商品信息
    if (uni.getStorageSync('shopInfo')) {
      var shopInfo = uni.getStorageSync('shopInfo');
      if (shopInfo && shopInfo != undefined) {
        this.shopInfo = shopInfo;
      }
    }

    //优惠券
    if (uni.getStorageSync('discount')) {
      var discount = uni.getStorageSync('discount');
      if (discount.value != undefined) {
        this.discount = discount;
      }
      console.log(this.discount);
    } else {
      this.discount = {};
    }
    //取件日期
    if (uni.getStorageSync('takeTimer')) {
      var takeDay = uni.getStorageSync('takeTimer');
      if (takeDay && takeDay != undefined) {
        this.showChoiceTime = takeDay;
      }
    }
    //计算距离
    if (this.isComputedDistance) {
      this.isComputedDistanceFunc();
    }

    //订单计算初始请求
    if (this.isInitOrderPrice) {
      this.isInitOrderPriceAjax();
    }
    // 倒计时
    if (this.countDown != '') {
      clearInterval(this.countDown);
      this.minutes = 30;
      this.seconds = 0;
    }

    if (JSON.stringify(this.endAddress) == '{}') {
      this.endAddressShow = true;
    } else {
      this.endAddressShow = false;
    }

    // 获取备注
    if (uni.getStorageSync('remark')) {
      this.remark = uni.getStorageSync('remark');
    }
  },
  onUnload: function onUnload() {

    uni.removeStorageSync('shopInfo');
    uni.removeStorageSync('discount');
    uni.removeStorageSync('takeTimer');
    uni.removeStorageSync('remark');
  },
  data: function data() {
    return {
      platform: '',
      //发货地址
      sendAddress: {},
      //收货地址
      endAddress: {},
      car: 0, //0电动 1小车
      //顶部导航
      scrollList: ['帮我送', '帮我取', '帮我买'],
      carScrollList: ['帮我送', '帮我取'],
      scrollIndex: 0,
      //时间
      dayIndex: 0,
      day: ['今天', '明天', '后天'],
      //立即取件
      rightIndex: 999,
      timer: [
      { text: '9:00-10:00', start: '9', end: '10' },
      { text: '10:00-11:00', start: '10', end: '11' },
      { text: '11:00-12:00', start: '11', end: '12' },
      { text: '12:00-13:00', start: '12', end: '13' },
      { text: '13:00-14:00', start: '13', end: '14' },
      { text: '14:00-15:00', start: '14', end: '15' },
      { text: '15:00-16:00', start: '15', end: '16' },
      { text: '16:00-17:00', start: '16', end: '17' },
      { text: '17:00-18:00', start: '17', end: '18' },
      { text: '18:00-19:00', start: '18', end: '19' },
      { text: '19:00-20:00', start: '19', end: '20' },
      { text: '21:00-22:00', start: '21', end: '22' },
      { text: '22:00-23:00', start: '22', end: '23' },
      { text: '23:00-24:00', start: '23', end: '24' }],

      //今天的数组列表
      timeList: [],
      //发请求的时间参数
      choiceTime: '',
      //页面展示用的时间
      showChoiceTime: '',

      showDay: '',
      //选择的时间段
      choiceMinunte: '',
      //日期
      dayTimer: '',
      //发请求用的时间
      choiceMinunteEnd: '',

      //指定商店
      assignList: ['骑手就近购买', '指定地址'],
      assignIndex: 0,
      //打赏
      grant: [0, 1, 2, 3, 4, 5],
      giveGrant: '',
      //总价
      totalPrice: 0,
      //费用详情显示
      priceDetailshow: false,
      //支付按钮
      payInfo: [
      {
        image: '../../static/image/order/yuezhifu.png',
        text: '余额支付',
        sectext: '' },

      {
        image: '../../static/image/order/weixinzhifu.png',
        text: '微信支付',
        sectext: '' }],


      circleShow: 0,

      //阅读协议的圆
      horsemanCircle: false,
      //是否显示请选地址
      sendAddressShow: true,
      endAddressShow: true,
      //商品信息
      shopInfo: {},
      //优惠券
      discount: {},
      //距离
      distance: '',
      //签收码
      signCode: 0,
      //保价金
      goldCode: 0,
      //加急专送
      urgentCode: 0,
      //保温箱
      stayWarmCode: 0,
      //备注
      remark: '',
      //计算订单价格数据返回
      orderComputed: {},
      //计时器
      minutes: 30,
      seconds: 0,
      countDown: '',
      //周边骑手
      //是否有骑手
      horseman: false,
      horsemanCount: '',
      horsemanList: [],
      //加价
      addPirce: 0,
      //请求回来的订单ID
      orderId: '',
      RichText: [],
      //保价金
      orderProperty: '',
      //就近购买与指定
      helpBuy: 0,
      //就近距离配置
      riderSide: 3,
      //是否支付按钮，用作判断使用优惠券并有无付款
      payFlag: true,
      //商品预估显示
      shopAppraisement: false,
      //帮买商品内容
      helpBuyTextArea: '',
      //帮买预估价值
      appraisement: '',
      //帮买阅读协议
      helpbuyCircle: true,
      // 选择时间的开始
      choiceMinunteStart: '',
      //时间段无运力
      Nhorseman: false,
      //小票圆
      xiaopiaoCircle: false,
      newAddPrice: 0,
      adcode: '' };

  },
  components: {
    uniPopup: uniPopup },

  watch: {
    sendAddress: function sendAddress(value, oldvalue) {
      if (value != oldvalue) {
        this.sendAddressShow = false;
        //计算距离
        if (JSON.stringify(value) != '{}' && JSON.stringify(this.endAddress) != '{}') {

          this.isComputedDistanceFunc();



        }
        this.isInitOrderPriceAjax();
      }
    },
    endAddress: function endAddress(value, oldvalue) {
      if (value != oldvalue) {
        this.endAddressShow = false;
        //计算距离
        if (JSON.stringify(value) != '{}' && JSON.stringify(this.sendAddress) != '{}') {

          this.isComputedDistanceFunc();
        }
        this.isInitOrderPriceAjax();
      }
    },
    //监听各个按钮是否开启
    signCode: function signCode(value, oldvalue) {
      if (value != oldvalue) {
        this.isInitOrderPriceAjax();
      }
    },
    goldCode: function goldCode(value, oldvalue) {
      if (value != oldvalue) {
        this.isInitOrderPriceAjax();
      }
    },
    urgentCode: function urgentCode(value, oldvalue) {
      if (value != oldvalue) {
        this.isInitOrderPriceAjax();
      }
    },
    stayWarmCode: function stayWarmCode(value, oldvalue) {
      if (value != oldvalue) {
        this.isInitOrderPriceAjax();
      }
    },
    giveGrant: function giveGrant(value, oldvalue) {
      if (value != oldvalue) {
        this.isInitOrderPriceAjax();
      }
    },
    //监听距离变化
    distance: function distance(value, oldvalue) {
      if (value != oldvalue) {
        this.isInitOrderPriceAjax();
      }
    },
    //监听时间变化
    second: {
      handler: function handler(newVal) {
        this.num(newVal);
      } },

    minute: {
      handler: function handler(newVal) {
        this.num(newVal);
      } } },


  computed: {
    //计算距离
    isComputedDistance: function isComputedDistance() {
      return JSON.stringify(this.sendAddress) != '{}' && JSON.stringify(this.endAddress) != '{}';
    },
    //初始计算订单价格
    isInitOrderPrice: function isInitOrderPrice() {
      return JSON.stringify(this.sendAddress) != '{}' && JSON.stringify(this.endAddress) != '{}' && JSON.stringify(this.shopInfo) != '{}';
    } },

  methods: {
    // 关闭支付
    closePay: function closePay(data) {
      clearInterval(this.countDown);
      this.countDown = null;
      this.minutes = 30;
      this.seconds = 0;

      if (!data.show && this.payFlag) {
        if (uni.getStorageSync('discount')) {
          uni.setStorageSync('userSelect', 0);
          uni.switchTab({
            url: '../order/order' });

        }
      }
    },
    //返回
    goBack: function goBack() {
      uni.navigateBack({
        delta: 1 });

    },
    //去运费明细
    goTofreight: function goTofreight(index) {
      uni.navigateTo({
        url: '../../packageA/freightDeatail/freightDeatail?freightInfo=' + JSON.stringify(this.orderComputed) + "&status=" + index
        // url: '../freightDeatail/freightDeatail?freightInfo=' + JSON.stringify(this.orderComputed) + "&status=" + index
      });
    },
    // 去备注
    goToRemark: function goToRemark() {
      uni.navigateTo({
        // url: '../remark/remark'
        url: '../../packageA/remark/remark' });

    },
    //商品预估显示
    closeShopAppraisement: function closeShopAppraisement() {

      this.shopAppraisement = !this.shopAppraisement;
      uni.hideKeyboard();
    },
    checkShopInfoPrice: function checkShopInfoPrice() {


    },
    //小票
    needTicket: function needTicket() {
      this.xiaopiaoCircle = !this.xiaopiaoCircle;
      if (this.xiaopiaoCircle) {
        this.helpBuyTextArea = this.helpBuyTextArea + ' 需要小票';
      } else {
        this.helpBuyTextArea = this.helpBuyTextArea.replace(' 需要小票', '');
      }

    },
    //个人信息
    initMyInfo: function initMyInfo() {var _this2 = this;return _asyncToGenerator( /*#__PURE__*/_regenerator.default.mark(function _callee() {var res;return _regenerator.default.wrap(function _callee$(_context) {while (1) {switch (_context.prev = _context.next) {case 0:_context.next = 2;return (
                  _this2.$fetch(_this2.$api.currentUser, {}, 'GET', 'form'));case 2:res = _context.sent;
                _this2.payInfo[0].sectext = '(' + Number(res.data.amount).toFixed(2) + ')';case 4:case "end":return _context.stop();}}}, _callee);}))();
    },
    //指定商店下标
    hangdleAssignIndex: function hangdleAssignIndex(index) {var _this3 = this;
      this.assignIndex = index;
      this.helpBuy = index;
      if (index == 1) {
        var me = this;
        this.sendAddress.addressDetail = "";
        uni.chooseLocation({
          success: function success(res) {
            var that = res;
            uni.request({
              url:
              'https://restapi.amap.com/v3/geocode/regeo?output=JSON&location=' +
              res.longitude +
              ',' +
              res.latitude +
              '&key=6223011d1e55de8ee9d00617ee5270c2&radius=1000&extensions=all', //仅为示例，并非真实接口地址。
              success: function success(res) {
                if (that.name === '地图位置') {
                  that.name = res.data.regeocode.aois[0].name;
                }
                that.address = res.data.regeocode.formatted_address;

                if (_this3.sendAddress.addressDetail instanceof Array) {

                  me.sendAddress.addressDetail[0] = that.address;
                  me.sendAddress.addressDetail[1] = '';
                  me.sendAddress.addressDetail[2] = that.name;
                  me.sendAddress.latitude = that.longitude + ',' + that.latitude;


                } else {

                  me.sendAddress.editAddress = that;

                  me.sendAddress.latitude = me.sendAddress.editAddress.longitude + ',' + me.sendAddress.editAddress.latitude;

                  _this3.sendAddressShow = false;
                }


                uni.setStorageSync('sendAddress', JSON.stringify(me.sendAddress));
                // this.sendAddress = me.sendAddress

                _this3.isComputedDistanceFunc();
                _this3.isInitOrderPriceAjax();
              } });

          },
          complete: function complete() {

            _this3.isComputedDistanceFunc();
            _this3.isInitOrderPriceAjax();
          } });

      }
      this.isInitOrderPriceAjax();
    },
    //更改scroll下标
    handleScrollIndex: function handleScrollIndex(index) {

      this.scrollIndex = index;
      this.shopInfo = {};
      this.discount = {};
      this.showChoiceTime = '马上取件';
      this.assignIndex = 0;
      this.choiceTime = '',
      this.showDay = '';
      this.choiceMinunte = '';
      this.dayTimer = '';
      this.choiceMinunteEnd = '';
      this.giveGrant = '';
      this.totalPrice = 0;
      this.orderComputed = {};
      this.helpBuy = 0;
      this.helpBuyTextArea = '';
      this.choiceMinunteStart = 0;
      this.rightIndex = 999;

      uni.removeStorageSync('takeTimer');
      uni.removeStorageSync('shopInfo');
      uni.removeStorageSync('discount');
    },
    //取件时间
    pickTimer: function pickTimer() {
      this.$refs.popup.open();

      this.handleDayIndex(this.dayIndex);
    },
    //更换取件时间
    handleDayIndex: function handleDayIndex(index) {var _this4 = this;
      if (index || index == 0) {
        this.showDay = this.day[index];
      }
      this.dayIndex = index;
      if (index === 0) {
        //获取当前日期
        this.dayTimer = this.$dayjs().format('YYYY-MM-DD');
        var arrIndex = this.timer.findIndex(function (value) {
          if (_this4.nowTime == value.start) {
            return true;
          }
        });
        this.timeList = this.timer.slice(arrIndex + 1);
      } else if (index === 1) {
        this.dayTimer = this.$dayjs().
        add(1, 'day').
        format('YYYY-MM-DD');
        this.timeList = [];
      } else if (index === 2) {
        this.dayTimer = this.$dayjs().
        add(2, 'day').
        format('YYYY-MM-DD');
        this.timeList = [];
      }
      this.rightIndex = 999;
    },
    //更改对勾
    handleRight: function handleRight(item, index) {
      if (this.showChoiceTime === '马上取件') {
        this.choiceMinunteStart = 0;
      }
      this.rightIndex = index;
      this.choiceMinunte = item;
      this.choiceMinunteEnd = item.end;
      this.choiceMinunteStart = item.start;

    },
    //初始化
    initTakeNow: function initTakeNow() {
      this.dayIndex = 0;
      this.rightIndex = 999;
    },
    //获取保价金
    initorderProperty: function initorderProperty() {var _this5 = this;return _asyncToGenerator( /*#__PURE__*/_regenerator.default.mark(function _callee2() {var res;return _regenerator.default.wrap(function _callee2$(_context2) {while (1) {switch (_context2.prev = _context2.next) {case 0:_context2.next = 2;return (

                  _this5.$fetch(_this5.$api.orderProperty, { carType: _this5.car }, 'GET', 'form'));case 2:res = _context2.sent;
                console.log(res);

                if (res.code == 401) {

                }
                _this5.orderProperty = res.data.bond;
                _this5.riderSide = res.data.distance;
                _this5.newAddPrice = res.data.capacitySubsidy;

                _this5.yunliTimerStart = res.data.noCapacityMonitoringPeriod.split('-')[0];
                _this5.yunliTimerEnd = res.data.noCapacityMonitoringPeriod.split('-')[1];case 10:case "end":return _context2.stop();}}}, _callee2);}))();

    },
    //点击确定
    popSubmit: function popSubmit() {
      this.$refs.popup.close();
      this.choiceTime = this.dayTimer + ' ' + this.choiceMinunteStart;

      if (this.rightIndex != 999) {
        this.showChoiceTime = this.showDay + ' ' + this.choiceMinunte.text;
      } else {
        this.showChoiceTime = '马上取件';
      }
      //点击确定存入本地
      uni.setStorageSync('takeTimer', this.showChoiceTime);
    },
    //去地址簿
    goToAddress: function goToAddress(index) {
      uni.navigateTo({
        url: '../address/address?address=' + index });

    },
    //保存帮买商品信息
    setHelpBuyInfo: function setHelpBuyInfo() {

      if (this.appraisement <= 0 && uni.getStorageSync('shopInfo') == true) {

        this.appraisement = 1;
        uni.showToast({
          title: '商品预估价最低1元',
          icon: 'none' });


      } else if (this.appraisement > 500) {
        this.appraisement = 500;
        uni.showToast({
          title: '商品预估价最高500元',
          icon: 'none' });

      }
      if (this.helpBuyTextArea.trim()) {
        this.shopInfo.main = this.helpBuyTextArea;
      }
      if (this.appraisement) {
        this.shopInfo.price = this.appraisement;
      }
      if (this.helpBuyTextArea.trim() && this.appraisement) {
        uni.setStorageSync('shopInfo', this.shopInfo);
        this.isInitOrderPriceAjax();
      }
      if (this.helpBuyTextArea === '') {
        this.orderComputed.payAmount = 0;
      }
    },
    //去商品信息
    goToShopInfo: function goToShopInfo() {
      if (JSON.stringify(this.sendAddress) == '{}' || JSON.stringify(this.endAddress) == '{}') {
        uni.showToast({
          icon: 'none',
          title: '请先填写地址' });

        return;
      }

      if (this.scrollIndex == 2) {
        uni.navigateTo({
          url: '../buyShopInfo/buyShopInfo' });

      } else {
        uni.navigateTo({
          url: '../shopInfo/shopInfo' });

      }
    },
    //去优惠券
    goToDiscount: function goToDiscount() {
      uni.navigateTo({
        url: '../discount/discount?payAmount=' + this.orderComputed.payAmount });

    },
    //打赏消费
    selectedGrant: function selectedGrant(e) {
      var index = e.detail.value;
      this.giveGrant = this.grant[index];
    },
    //下单详情
    handleBilldetail: function handleBilldetail() {var _this6 = this;return _asyncToGenerator( /*#__PURE__*/_regenerator.default.mark(function _callee4() {var latitude, longitude;return _regenerator.default.wrap(function _callee4$(_context4) {while (1) {switch (_context4.prev = _context4.next) {case 0:

                if (_this6.scrollIndex == 2 && _this6.assignIndex == 0) {
                  _this6.sendAddress = _this6.endAddress;
                }
                latitude = _this6.sendAddress.latitude.split(',')[1];
                longitude = _this6.sendAddress.latitude.split(',')[0];
                if (_this6.scrollIndex == 2 && _this6.assignIndex == 0) {
                  latitude = _this6.endAddress.latitude.split(',')[1];
                  longitude = _this6.endAddress.latitude.split(',')[0];
                }

                latitude = Number(latitude).toFixed(6);
                longitude = Number(longitude).toFixed(5);




                uni.request({
                  url: 'https://restapi.amap.com/v3/geocode/regeo?output=JSON&location=' + longitude + ',' + latitude + '&key=6223011d1e55de8ee9d00617ee5270c2&radius=1000&extensions=all', //仅为示例，并非真实接口地址。

                  success: function () {var _success = _asyncToGenerator( /*#__PURE__*/_regenerator.default.mark(function _callee3(res) {var msg, _latitude, _longitude, Radius, getRadius;return _regenerator.default.wrap(function _callee3$(_context3) {while (1) {switch (_context3.prev = _context3.next) {case 0:
                              _this6.adcode = res.data.regeocode.addressComponent.adcode.substring(0, 4);_context3.next = 3;return (
                                _this6.$fetch(_this6.$api.testAdcode, { adcode: _this6.adcode }, 'POST', 'FORM'));case 3:msg = _context3.sent;if (!(

                              msg.code != 0)) {_context3.next = 8;break;}return _context3.abrupt("return",

                              uni.showToast({
                                icon: 'none',
                                title: '该地区暂未开通服务，敬请期待' }));case 8:if (!(



                              _this6.shopInfo.main === undefined || _this6.shopInfo.price === undefined)) {_context3.next = 11;break;}
                              uni.showToast({
                                title: '请检查您要下单的信息',
                                icon: 'none' });return _context3.abrupt("return");case 11:if (!(



                              _this6.scrollIndex != 2)) {_context3.next = 15;break;}if (!(
                              _this6.sendAddress.mobile.trim() == '' || _this6.sendAddress.name.trim() == '')) {_context3.next = 15;break;}
                              uni.showToast({
                                icon: 'none',
                                title: '请完善取货地址信息' });return _context3.abrupt("return");case 15:if (!(






                              _this6.scrollIndex === 2 && !_this6.helpbuyCircle)) {_context3.next = 18;break;}
                              uni.showToast({
                                title: '请认真阅读帮买服务协议',
                                icon: 'none' });return _context3.abrupt("return");case 18:if (!(




                              _this6.sendAddress.latitude === "" && JSON.stringify(_this6.endAddress) != '{}' && JSON.stringify(_this6.shopInfo) != '{}')) {_context3.next = 21;break;}
                              uni.showToast({
                                title: '未获取到详细地址,请先完善信息',
                                icon: 'none' });return _context3.abrupt("return");case 21:if (!(



                              JSON.stringify(_this6.sendAddress.editAddress) === '{}' || JSON.stringify(_this6.endAddress.editAddress) === '{}')) {_context3.next = 24;break;}
                              uni.showToast({
                                icon: 'none',
                                title: '未获取到详细地址,请先完善信息' });return _context3.abrupt("return");case 24:if (!




                              _this6.discount.type) {_context3.next = 28;break;}if (!(
                              _this6.orderComputed.payAmount < 50)) {_context3.next = 28;break;}
                              uni.showToast({
                                icon: 'none',
                                title: '订单金额小于50，无法使用优惠' });return _context3.abrupt("return");case 28:if (!(





                              JSON.stringify(_this6.sendAddress) == '{}' || JSON.stringify(_this6.endAddress) == '{}' || JSON.stringify(_this6.shopInfo) == '{}')) {_context3.next = 33;break;}
                              uni.showToast({
                                icon: 'none',
                                title: '请检查您要下单的信息' });return _context3.abrupt("return");case 33:




                              _latitude = _this6.sendAddress.latitude.split(',')[1];
                              _longitude = _this6.sendAddress.latitude.split(',')[0];

                              _latitude = Number(_latitude).toFixed(6);
                              _longitude = Number(_longitude).toFixed(5);
                              Radius = null;_context3.next = 40;return (

                                _this6.$fetch(_this6.$api.getScanRange, {}, 'GET', 'Form'));case 40:getRadius = _context3.sent;
                              if (getRadius.code === 0) {
                                Radius = getRadius.data.taskScanRange;
                              }


                              //搜索周边有无骑手
                              uni.request({
                                url: 'https://tsapi.amap.com/v1/track/terminal/aroundsearch',
                                method: 'POST',
                                header: {
                                  'content-type': 'application/x-www-form-urlencoded' },

                                data: {
                                  // key: 'e54514186dfbafae58736cd342838baf',
                                  // sid: '92478',
                                  key: "4145121d3d1b5dcf41702960f3bd5adc",
                                  sid: '126730',
                                  center: _latitude + ',' + _longitude,
                                  radius: Radius * 1000 },

                                success: function success(res) {

                                  _this6.horsemanCount = res.data.data.count;
                                  _this6.horsemanList = res.data.data.results;
                                  // if (this.choiceMinunteStart >= 22) {
                                  // 		this.horseman = true;
                                  // 		this.Nhorseman = true;
                                  // } else if (this.createOrderTimer >= this.yunliTimerStart  &&  this.createOrderTimer <= this.yunliTimerEnd) {
                                  // 	this.horseman = true;
                                  // 	this.Nhorseman = true;
                                  // }
                                  if (_this6.createOrderTimer >= _this6.yunliTimerStart && _this6.createOrderTimer <= _this6.yunliTimerEnd) {
                                    _this6.horseman = true;
                                    _this6.Nhorseman = true;
                                  }

                                  if (_this6.horseman == false) {
                                    _this6.Nhorseman = false;
                                    _this6.$refs.popups.open();

                                  }
                                } });case 43:case "end":return _context3.stop();}}}, _callee3);}));function success(_x) {return _success.apply(this, arguments);}return success;}() });case 7:case "end":return _context4.stop();}}}, _callee4);}))();












    },
    //确认下单
    handlePopPay: function handlePopPay() {var _this7 = this;return _asyncToGenerator( /*#__PURE__*/_regenerator.default.mark(function _callee5() {return _regenerator.default.wrap(function _callee5$(_context5) {while (1) {switch (_context5.prev = _context5.next) {case 0:
                _this7.isCreateOrderPriceAjax();case 1:case "end":return _context5.stop();}}}, _callee5);}))();
    },
    //更改下单圆
    handleCircle: function handleCircle(index) {
      this.circleShow = index;
    },
    //显示费用详情
    handleDetailshow: function handleDetailshow() {
      this.priceDetailshow = !this.priceDetailshow;
    },
    //更改阅读协议的圆
    handleHorsemanCircle: function handleHorsemanCircle() {
      this.horsemanCircle = !this.horsemanCircle;
    },
    //关闭无骑手弹框
    handleHorsemanShow: function handleHorsemanShow() {
      this.addPirce = 0;
      this.isInitOrderPriceAjax();
      this.horseman = false;
    },
    //去编辑
    goToEdit: function goToEdit(addressInfo, index, id) {var _this8 = this;
      if (this.scrollIndex === 2 && index === 0 && this.assignIndex === 0) {
        return;
      }
      if (this.scrollIndex === 2 && index === 0 && this.assignIndex === 1) {
        var me = this;
        uni.chooseLocation({
          success: function success(res) {
            var that = res;
            uni.request({
              url:
              'https://restapi.amap.com/v3/geocode/regeo?output=JSON&location=' +
              res.longitude +
              ',' +
              res.latitude +
              '&key=6223011d1e55de8ee9d00617ee5270c2&radius=1000&extensions=all', //仅为示例，并非真实接口地址。
              success: function success(res) {
                if (that.name === '地图位置') {
                  that.name = res.data.regeocode.aois[0].name;
                }
                that.address = res.data.regeocode.formatted_address;

                if (_this8.sendAddress.addressDetail instanceof Array) {

                  me.sendAddress.addressDetail[0] = that.address;
                  me.sendAddress.addressDetail[1] = '';
                  me.sendAddress.addressDetail[2] = that.name;
                  me.sendAddress.latitude = that.longitude + ',' + that.latitude;



                } else {

                  me.sendAddress.editAddress = that;

                  me.sendAddress.latitude = me.sendAddress.editAddress.longitude + ',' + me.sendAddress.editAddress.latitude;


                }


                uni.setStorageSync('sendAddress', JSON.stringify(me.sendAddress));


                _this8.isComputedDistanceFunc();
                setTimeout(function () {
                  _this8.isComputedDistanceFunc();
                }, 1000);
                _this8.isInitOrderPriceAjax();
              } });

          },
          complete: function complete() {

            _this8.isComputedDistanceFunc();
            _this8.isInitOrderPriceAjax();
          } });

      } else {
        uni.navigateTo({
          url: '../editAddress/editAddress?addressInfo=' + JSON.stringify(addressInfo) + '&status=' + index + '&id=' + id });


      }

    },
    //获取默认地址
    initAddress: function initAddress() {return _asyncToGenerator( /*#__PURE__*/_regenerator.default.mark(function _callee6() {return _regenerator.default.wrap(function _callee6$(_context6) {while (1) {switch (_context6.prev = _context6.next) {case 0:case "end":return _context6.stop();}}}, _callee6);}))();

    },
    //更改签收码
    handleSignCode: function handleSignCode(e) {
      if (e.detail.value) {
        this.signCode = 1;
      } else {
        this.signCode = 0;
      }
    },
    //更改保证金
    handleGoldCode: function handleGoldCode(e) {
      if (e.detail.value) {
        this.goldCode = 1;
      } else {
        this.goldCode = 0;
      }
    },
    //更改加急专送
    handleUrgentCode: function handleUrgentCode(e) {
      if (e.detail.value) {
        this.urgentCode = 1;
      } else {
        this.urgentCode = 0;
      }
    },
    //更改保温箱
    handleStayWarmCode: function handleStayWarmCode(e) {
      if (e.detail.value) {
        this.stayWarmCode = 1;
      } else {
        this.stayWarmCode = 0;
      }
    },
    //初始请求价格
    isInitOrderPriceAjax: function isInitOrderPriceAjax() {var _this9 = this;return _asyncToGenerator( /*#__PURE__*/_regenerator.default.mark(function _callee7() {var initsendress, startAddress, endAddress, res, _res, _res2, _res3, _res4, _res5, _res6, _res7, _res8, _res9, _res10, _res11;return _regenerator.default.wrap(function _callee7$(_context7) {while (1) {switch (_context7.prev = _context7.next) {case 0:if (!(


                _this9.sendAddress.latitude === "" && JSON.stringify(_this9.endAddress) != '{}' && JSON.stringify(_this9.shopInfo) != '{}')) {_context7.next = 3;break;}
                uni.showToast({
                  title: '未获取到详细地址,请先完善信息',
                  icon: 'none' });return _context7.abrupt("return");case 3:if (!(



                _this9.shopInfo.price === undefined)) {_context7.next = 5;break;}return _context7.abrupt("return");case 5:if (!(





                JSON.stringify(_this9.endAddress) != '{}' && JSON.stringify(_this9.shopInfo) != '{}')) {_context7.next = 87;break;}
                initsendress = null;
                // if (this.sendAddress.addressDetail instanceof Array) {
                // 	initsendress = this.sendAddress.addressDetail[0] + '' + this.sendAddress.addressDetail[2] + '' + this.sendAddress.addressDetail[1];
                // } else {
                // 	initsendress = this.sendAddress.editAddress.address + '' + this.sendAddress.editAddress.name + '' + this.sendAddress.addressDetail;
                // }

                if (_this9.scrollIndex == 2 && _this9.assignIndex != 0) {
                  if (_this9.sendAddress.addressDetail instanceof Array) {
                    initsendress = _this9.sendAddress.addressDetail[0] + '' + _this9.sendAddress.addressDetail[1];
                  } else {
                    initsendress = _this9.sendAddress.editAddress.address + '' + _this9.sendAddress.addressDetail;
                  }
                }


                startAddress = JSON.stringify(initsendress);

                // let endAddress = JSON.stringify(this.endAddress.editAddress.address + '' + this.endAddress.editAddress.name + '' + this.endAddress.addressDetail);

                endAddress = JSON.stringify(_this9.endAddress.editAddress.address + '' + _this9.endAddress.addressDetail);


                //发送计算订单请求
                //当是立即取件时
                if (!(_this9.rightIndex === 999)) {_context7.next = 50;break;}if (!(


                JSON.stringify(_this9.discount) === '{}')) {_context7.next = 31;break;}if (!(



                _this9.scrollIndex === 2)) {_context7.next = 25;break;}if (!(

                _this9.assignIndex === 0)) {_context7.next = 18;break;}_context7.next = 16;return (

                  _this9.$fetch(
                  _this9.$api.orderCalculation,
                  {
                    buyAddressType: 1,
                    // buyAddressType: this.assignIndex,
                    endAddress: JSON.stringify({ addressDetail: endAddress, latitude: _this9.endAddress.latitude }),
                    tip: _this9.giveGrant,
                    goodsInventory: JSON.stringify({ weight: _this9.shopInfo.weight, cost: _this9.shopInfo.price, goods: _this9.shopInfo.main }),
                    distance: _this9.riderSide,
                    type: _this9.scrollIndex,
                    pickUpType: 0,
                    carType: _this9.car,
                    incubatorFlag: _this9.stayWarmCode,
                    premiumFlag: _this9.goldCode,
                    urgentExpressPriceFlag: _this9.urgentCode,
                    signForCodeFlag: _this9.signCode,
                    // goodsPredictAmount: this.shopInfo.price,
                    goodsPredictAmount: 50,
                    subsidy: _this9.addPirce },

                  'POST'));case 16:res = _context7.sent;



                if (res.code == 0) {
                  _this9.orderComputed = res.data;
                }case 18:if (!(

                _this9.assignIndex === 1)) {_context7.next = 23;break;}_context7.next = 21;return (
                  _this9.$fetch(
                  _this9.$api.orderCalculation,
                  {
                    buyAddressType: 0,
                    // buyAddressType: this.assignIndex,
                    startAddress: JSON.stringify({ addressDetail: startAddress, latitude: _this9.sendAddress.latitude }),
                    endAddress: JSON.stringify({ addressDetail: endAddress, latitude: _this9.endAddress.latitude }),
                    tip: _this9.giveGrant,
                    goodsInventory: JSON.stringify({ weight: _this9.shopInfo.weight, cost: _this9.shopInfo.price, goods: _this9.shopInfo.main }),
                    distance: _this9.distance,
                    type: _this9.scrollIndex,
                    pickUpType: 0,
                    carType: _this9.car,
                    incubatorFlag: _this9.stayWarmCode,
                    premiumFlag: _this9.goldCode,
                    urgentExpressPriceFlag: _this9.urgentCode,
                    signForCodeFlag: _this9.signCode,
                    goodsPredictAmount: 50,
                    subsidy: _this9.addPirce },

                  'POST'));case 21:_res = _context7.sent;



                if (_res.code == 0) {
                  _this9.orderComputed = _res.data;
                }case 23:_context7.next = 29;break;case 25:_context7.next = 27;return (





                  _this9.$fetch(
                  _this9.$api.orderCalculation,
                  {
                    buyAddressType: _this9.assignIndex,
                    startAddress: JSON.stringify({ addressDetail: startAddress, latitude: _this9.sendAddress.latitude }),
                    endAddress: JSON.stringify({ addressDetail: endAddress, latitude: _this9.endAddress.latitude }),
                    tip: _this9.giveGrant,
                    goodsInventory: JSON.stringify({ weight: _this9.shopInfo.weight, cost: _this9.shopInfo.price, goods: _this9.shopInfo.main }),
                    distance: _this9.distance,
                    type: _this9.scrollIndex,
                    pickUpType: 0,
                    carType: _this9.car,
                    incubatorFlag: _this9.stayWarmCode,
                    premiumFlag: _this9.goldCode,
                    urgentExpressPriceFlag: _this9.urgentCode,
                    signForCodeFlag: _this9.signCode,
                    goodsPredictAmount: '',
                    subsidy: _this9.addPirce },

                  'POST'));case 27:_res2 = _context7.sent;



                if (_res2.code == 0) {
                  _this9.orderComputed = _res2.data;
                }case 29:_context7.next = 48;break;case 31:if (!(




                _this9.scrollIndex === 2)) {_context7.next = 44;break;}if (!(

                _this9.assignIndex === 0)) {_context7.next = 37;break;}_context7.next = 35;return (
                  _this9.$fetch(
                  _this9.$api.orderCalculation,
                  {
                    buyAddressType: 1,
                    // buyAddressType: this.assignIndex,
                    // startAddress: JSON.stringify({ addressDetail: startAddress, latitude: this.sendAddress.latitude }),
                    endAddress: JSON.stringify({ addressDetail: endAddress, latitude: _this9.endAddress.latitude }),
                    tip: _this9.giveGrant,
                    goodsInventory: JSON.stringify({ weight: _this9.shopInfo.weight, cost: _this9.shopInfo.price, goods: _this9.shopInfo.main }),
                    distance: _this9.riderSide,
                    type: _this9.scrollIndex,
                    pickUpType: 0,
                    carType: _this9.car,
                    incubatorFlag: _this9.stayWarmCode,
                    premiumFlag: _this9.goldCode,
                    urgentExpressPriceFlag: _this9.urgentCode,
                    signForCodeFlag: _this9.signCode,
                    userCouponId: _this9.discount.id,
                    goodsPredictAmount: 50,
                    subsidy: _this9.addPirce },

                  'POST'));case 35:_res3 = _context7.sent;


                if (_res3.code == 0) {
                  _this9.orderComputed = _res3.data;
                }case 37:if (!(

                _this9.assignIndex === 1)) {_context7.next = 42;break;}_context7.next = 40;return (
                  _this9.$fetch(
                  _this9.$api.orderCalculation,
                  {
                    buyAddressType: 0,
                    // buyAddressType: this.assignIndex,
                    startAddress: JSON.stringify({ addressDetail: startAddress, latitude: _this9.sendAddress.latitude }),
                    endAddress: JSON.stringify({ addressDetail: endAddress, latitude: _this9.endAddress.latitude }),
                    tip: _this9.giveGrant,
                    goodsInventory: JSON.stringify({ weight: _this9.shopInfo.weight, cost: _this9.shopInfo.price, goods: _this9.shopInfo.main }),
                    distance: _this9.distance,
                    type: _this9.scrollIndex,
                    pickUpType: 0,
                    carType: _this9.car,
                    incubatorFlag: _this9.stayWarmCode,
                    premiumFlag: _this9.goldCode,
                    urgentExpressPriceFlag: _this9.urgentCode,
                    signForCodeFlag: _this9.signCode,
                    userCouponId: _this9.discount.id,
                    goodsPredictAmount: 50,
                    subsidy: _this9.addPirce },

                  'POST'));case 40:_res4 = _context7.sent;


                if (_res4.code == 0) {
                  _this9.orderComputed = _res4.data;
                }case 42:_context7.next = 48;break;case 44:_context7.next = 46;return (




                  _this9.$fetch(
                  _this9.$api.orderCalculation,
                  {
                    buyAddressType: _this9.assignIndex,
                    startAddress: JSON.stringify({ addressDetail: startAddress, latitude: _this9.sendAddress.latitude }),
                    endAddress: JSON.stringify({ addressDetail: endAddress, latitude: _this9.endAddress.latitude }),
                    tip: _this9.giveGrant,
                    goodsInventory: JSON.stringify({ weight: _this9.shopInfo.weight, cost: _this9.shopInfo.price, goods: _this9.shopInfo.main }),
                    distance: _this9.distance,
                    type: _this9.scrollIndex,
                    pickUpType: 0,
                    carType: _this9.car,
                    incubatorFlag: _this9.stayWarmCode,
                    premiumFlag: _this9.goldCode,
                    urgentExpressPriceFlag: _this9.urgentCode,
                    signForCodeFlag: _this9.signCode,
                    userCouponId: _this9.discount.id,
                    goodsPredictAmount: '',
                    subsidy: _this9.addPirce },

                  'POST'));case 46:_res5 = _context7.sent;


                if (_res5.code == 0) {
                  _this9.orderComputed = _res5.data;
                }case 48:_context7.next = 87;break;case 50:if (!(






                JSON.stringify(_this9.discount) === '{}')) {_context7.next = 70;break;}if (!(

                _this9.scrollIndex === 2)) {_context7.next = 64;break;}if (!(

                _this9.assignIndex === 0)) {_context7.next = 57;break;}_context7.next = 55;return (
                  _this9.$fetch(
                  _this9.$api.orderCalculation,
                  {
                    buyAddressType: 1,
                    // startAddress: JSON.stringify({ addressDetail: startAddress, latitude: this.sendAddress.latitude }),
                    endAddress: JSON.stringify({ addressDetail: endAddress, latitude: _this9.endAddress.latitude }),
                    tip: _this9.giveGrant,
                    goodsInventory: JSON.stringify({ weight: _this9.shopInfo.weight, cost: _this9.shopInfo.price, goods: _this9.shopInfo.main }),
                    distance: _this9.riderSide,
                    type: _this9.scrollIndex,
                    pickUpType: 1,
                    pickUpTime: _this9.choiceTime + ':00:00',
                    carType: _this9.car,
                    incubatorFlag: _this9.stayWarmCode,
                    premiumFlag: _this9.goldCode,
                    urgentExpressPriceFlag: _this9.urgentCode,
                    signForCodeFlag: _this9.signCode,
                    goodsPredictAmount: _this9.shopInfo.price,
                    subsidy: _this9.addPirce },

                  'POST'));case 55:_res6 = _context7.sent;



                if (_res6.code == 0) {
                  _this9.orderComputed = _res6.data;
                }case 57:if (!(

                _this9.assignIndex === 1)) {_context7.next = 62;break;}_context7.next = 60;return (
                  _this9.$fetch(
                  _this9.$api.orderCalculation,
                  {
                    buyAddressType: 0,
                    startAddress: JSON.stringify({ addressDetail: startAddress, latitude: _this9.sendAddress.latitude }),
                    endAddress: JSON.stringify({ addressDetail: endAddress, latitude: _this9.endAddress.latitude }),
                    tip: _this9.giveGrant,
                    goodsInventory: JSON.stringify({ weight: _this9.shopInfo.weight, cost: _this9.shopInfo.price, goods: _this9.shopInfo.main }),
                    distance: _this9.riderSide,
                    type: _this9.scrollIndex,
                    pickUpType: 1,
                    pickUpTime: _this9.choiceTime + ':00:00',
                    carType: _this9.car,
                    incubatorFlag: _this9.stayWarmCode,
                    premiumFlag: _this9.goldCode,
                    urgentExpressPriceFlag: _this9.urgentCode,
                    signForCodeFlag: _this9.signCode,
                    goodsPredictAmount: _this9.shopInfo.price,
                    subsidy: _this9.addPirce },

                  'POST'));case 60:_res7 = _context7.sent;



                if (_res7.code == 0) {
                  _this9.orderComputed = _res7.data;
                }case 62:_context7.next = 68;break;case 64:_context7.next = 66;return (




                  _this9.$fetch(
                  _this9.$api.orderCalculation,
                  {
                    buyAddressType: _this9.assignIndex,
                    startAddress: JSON.stringify({ addressDetail: startAddress, latitude: _this9.sendAddress.latitude }),
                    endAddress: JSON.stringify({ addressDetail: endAddress, latitude: _this9.endAddress.latitude }),
                    tip: _this9.giveGrant,
                    goodsInventory: JSON.stringify({ weight: _this9.shopInfo.weight, cost: _this9.shopInfo.price, goods: _this9.shopInfo.main }),
                    distance: _this9.distance,
                    type: _this9.scrollIndex,
                    pickUpType: 1,
                    pickUpTime: _this9.choiceTime + ':00:00',
                    carType: _this9.car,
                    incubatorFlag: _this9.stayWarmCode,
                    premiumFlag: _this9.goldCode,
                    urgentExpressPriceFlag: _this9.urgentCode,
                    signForCodeFlag: _this9.signCode,
                    goodsPredictAmount: '',
                    subsidy: _this9.addPirce },

                  'POST'));case 66:_res8 = _context7.sent;



                if (_res8.code == 0) {
                  _this9.orderComputed = _res8.data;
                }case 68:_context7.next = 87;break;case 70:if (!(



                _this9.scrollIndex === 2)) {_context7.next = 83;break;}if (!(

                _this9.assignIndex === 0)) {_context7.next = 76;break;}_context7.next = 74;return (
                  _this9.$fetch(
                  _this9.$api.orderCalculation,
                  {
                    buyAddressType: 1,
                    // startAddress: JSON.stringify({ addressDetail: startAddress, latitude: this.sendAddress.latitude }),
                    endAddress: JSON.stringify({ addressDetail: endAddress, latitude: _this9.endAddress.latitude }),
                    tip: _this9.giveGrant,
                    goodsInventory: JSON.stringify({ weight: _this9.shopInfo.weight, cost: _this9.shopInfo.price, goods: _this9.shopInfo.main }),
                    distance: _this9.riderSide,
                    type: _this9.scrollIndex,
                    pickUpType: 1,
                    pickUpTime: _this9.choiceTime + ':00:00',
                    carType: _this9.car,
                    incubatorFlag: _this9.stayWarmCode,
                    premiumFlag: _this9.goldCode,
                    urgentExpressPriceFlag: _this9.urgentCode,
                    signForCodeFlag: _this9.signCode,
                    userCouponId: _this9.discount.id,
                    goodsPredictAmount: _this9.shopInfo.price,
                    subsidy: _this9.addPirce },

                  'POST'));case 74:_res9 = _context7.sent;




                if (_res9.code == 0) {
                  _this9.orderComputed = _res9.data;
                }case 76:if (!(

                _this9.assignIndex === 1)) {_context7.next = 81;break;}_context7.next = 79;return (
                  _this9.$fetch(
                  _this9.$api.orderCalculation,
                  {
                    buyAddressType: 0,
                    startAddress: JSON.stringify({ addressDetail: startAddress, latitude: _this9.sendAddress.latitude }),
                    endAddress: JSON.stringify({ addressDetail: endAddress, latitude: _this9.endAddress.latitude }),
                    tip: _this9.giveGrant,
                    goodsInventory: JSON.stringify({ weight: _this9.shopInfo.weight, cost: _this9.shopInfo.price, goods: _this9.shopInfo.main }),
                    distance: _this9.riderSide,
                    type: _this9.scrollIndex,
                    pickUpType: 1,
                    pickUpTime: _this9.choiceTime + ':00:00',
                    carType: _this9.car,
                    incubatorFlag: _this9.stayWarmCode,
                    premiumFlag: _this9.goldCode,
                    urgentExpressPriceFlag: _this9.urgentCode,
                    signForCodeFlag: _this9.signCode,
                    userCouponId: _this9.discount.id,
                    goodsPredictAmount: _this9.shopInfo.price,
                    subsidy: _this9.addPirce },

                  'POST'));case 79:_res10 = _context7.sent;




                if (_res10.code == 0) {
                  _this9.orderComputed = _res10.data;
                }case 81:_context7.next = 87;break;case 83:_context7.next = 85;return (




                  _this9.$fetch(
                  _this9.$api.orderCalculation,
                  {
                    buyAddressType: _this9.assignIndex,
                    startAddress: JSON.stringify({ addressDetail: startAddress, latitude: _this9.sendAddress.latitude }),
                    endAddress: JSON.stringify({ addressDetail: endAddress, latitude: _this9.endAddress.latitude }),
                    tip: _this9.giveGrant,
                    goodsInventory: JSON.stringify({ weight: _this9.shopInfo.weight, cost: _this9.shopInfo.price, goods: _this9.shopInfo.main }),
                    distance: _this9.distance,
                    type: _this9.scrollIndex,
                    pickUpType: 1,
                    pickUpTime: _this9.choiceTime + ':00:00',
                    carType: _this9.car,
                    incubatorFlag: _this9.stayWarmCode,
                    premiumFlag: _this9.goldCode,
                    urgentExpressPriceFlag: _this9.urgentCode,
                    signForCodeFlag: _this9.signCode,
                    userCouponId: _this9.discount.id,
                    goodsPredictAmount: '',
                    subsidy: _this9.addPirce },

                  'POST'));case 85:_res11 = _context7.sent;




                if (_res11.code == 0) {
                  _this9.orderComputed = _res11.data;
                }case 87:case "end":return _context7.stop();}}}, _callee7);}))();





    },
    //计算距离
    isComputedDistanceFunc: function isComputedDistanceFunc() {var _this10 = this;
      if (JSON.stringify(this.sendAddress) != '{}' && JSON.stringify(this.endAddress) != '{}') {
        var initsendress = null;
        var endLatitude = '';
        console.log(JSON.stringify(this.sendAddress) + '^^');
        if (this.sendAddress.addressDetail instanceof Array) {
          uni.request({
            url:
            'https://restapi.amap.com/v4/direction/bicycling?origin=' +
            this.sendAddress.latitude +
            '&destination=' +
            this.endAddress.latitude +
            '&key=6223011d1e55de8ee9d00617ee5270c2', //仅为示例，并非真实接口地址。
            success: function success(res) {
              console.log(res.data);
              _this10.distance = res.data.data.paths[0].distance / 1000;
              console.log(_this10.distance + '********');
            } });

        } else {

          uni.request({
            url:
            'https://restapi.amap.com/v4/direction/bicycling?origin=' +
            this.sendAddress.latitude +
            '&destination=' +
            this.endAddress.latitude +
            '&key=6223011d1e55de8ee9d00617ee5270c2', //仅为示例，并非真实接口地址。
            success: function success(res) {

              _this10.distance = res.data.data.paths[0].distance / 1000;

            } });


        }
      }
    },
    //创建订单请求
    isCreateOrderPriceAjax: function isCreateOrderPriceAjax() {var _this11 = this;return _asyncToGenerator( /*#__PURE__*/_regenerator.default.mark(function _callee8() {var initsendress, initsendressTitle, initsendressDetail, initsendressName, initendressTitle, initendressDetail, initendressName, startAddress, startIndex, endAddress, endIndex, goodsPredictAmount, res, _goodsPredictAmount, _res12, _res13, _res14, _goodsPredictAmount2, _res15, _res16, _res17, _res18, _res19, _res20;return _regenerator.default.wrap(function _callee8$(_context8) {while (1) {switch (_context8.prev = _context8.next) {case 0:if (!(

                JSON.stringify(_this11.sendAddress) != '{}' && JSON.stringify(_this11.endAddress) != '{}' && JSON.stringify(_this11.shopInfo) != '{}')) {_context8.next = 123;break;}
                //起点
                initsendress = null;
                initsendressTitle = null;
                initsendressDetail = null;
                initsendressName = null;
                //结束地址
                initendressTitle = null;
                initendressDetail = null;
                initendressName = null;

                if (_this11.sendAddress.addressDetail instanceof Array) {

                  initsendress = _this11.sendAddress.addressDetail[0] + '' + _this11.sendAddress.addressDetail[1];

                  initsendressDetail = _this11.sendAddress.addressDetail[1];
                  initsendressTitle = _this11.sendAddress.addressDetail[2];
                  initsendressName = _this11.sendAddress.addressDetail[0];

                  initendressTitle = _this11.endAddress.editAddress.name;
                  initendressDetail = _this11.endAddress.addressDetail;
                  initendressName = _this11.endAddress.editAddress.address;


                } else {

                  initsendress = _this11.sendAddress.editAddress.address + '' + _this11.sendAddress.addressDetail;
                  initsendressDetail = _this11.sendAddress.addressDetail;
                  initsendressTitle = _this11.sendAddress.editAddress.name;
                  initsendressName = _this11.sendAddress.editAddress.address;

                  initendressTitle = _this11.endAddress.editAddress.name;
                  initendressDetail = _this11.endAddress.addressDetail;
                  initendressName = _this11.endAddress.editAddress.address;


                }

                startAddress = initsendress;
                startIndex = initsendress.indexOf('市');

                startAddress = initsendress.substring(startIndex + 1, startIndex + initsendress.length);

                // let endAddress = this.endAddress.editAddress.address + '' + this.endAddress.editAddress.name + '' + this.endAddress.addressDetail;
                endAddress = _this11.endAddress.editAddress.address + '' + _this11.endAddress.addressDetail;
                endIndex = endAddress.indexOf('市');

                endAddress = endAddress.substring(endIndex + 1, endIndex + endAddress.length);



                goodsPredictAmount = 0;
                if (_this11.scrollIndex === 2) {
                  goodsPredictAmount = 50;
                }

                //发送计算订单请求
                //当是立即取件时
                if (!(_this11.rightIndex === 999)) {_context8.next = 83;break;}if (!(

                JSON.stringify(_this11.discount) === '{}')) {_context8.next = 52;break;}if (!(
                _this11.scrollIndex === 2 && _this11.helpBuy === 0)) {_context8.next = 31;break;}_context8.next = 22;return (

                  _this11.$fetch(
                  _this11.$api.orderCreate,
                  {
                    buyAddressType: 1,
                    startAddress: JSON.stringify({
                      addressDetail: endAddress,
                      latitude: _this11.endAddress.latitude,
                      title: initendressTitle,
                      name: initendressName,
                      detail: initendressDetail,
                      userName: _this11.endAddress.name,
                      mobile: _this11.endAddress.mobile }),


                    endAddress: JSON.stringify({
                      addressDetail: endAddress,
                      latitude: _this11.endAddress.latitude,
                      title: initendressTitle,
                      name: initendressName,
                      detail: initendressDetail,
                      userName: _this11.endAddress.name,
                      mobile: _this11.endAddress.mobile }),

                    tip: _this11.giveGrant,
                    goodsInventory: JSON.stringify({ weight: _this11.shopInfo.weight, cost: _this11.shopInfo.price, goods: _this11.shopInfo.main }),
                    distance: _this11.riderSide,
                    type: _this11.scrollIndex,
                    pickUpType: 0,
                    carType: _this11.car,
                    incubatorFlag: _this11.stayWarmCode,
                    premiumFlag: _this11.goldCode,
                    urgentExpressPriceFlag: _this11.urgentCode,
                    signForCodeFlag: _this11.signCode,
                    // goodsPredictAmount: this.shopInfo.price,
                    goodsPredictAmount: goodsPredictAmount,
                    subsidy: _this11.addPirce,
                    remark: _this11.remark,
                    adcode: _this11.adcode },

                  'POST'));case 22:res = _context8.sent;


                // if (res.code === 0) {
                console.log(res);
                console.log('111');
                _this11.orderId = res.data;
                _this11.$refs.popups.close();
                _this11.$refs.popupPay.open();
                _this11.countDownTimer();
                // }
                _context8.next = 50;break;case 31:

                _goodsPredictAmount = 0;
                if (_this11.scrollIndex === 2) {
                  _goodsPredictAmount = 50;
                }if (!(

                _this11.scrollIndex == 2 && _this11.assignIndex == 1)) {_context8.next = 43;break;}_context8.next = 36;return (
                  _this11.$fetch(
                  _this11.$api.orderCreate,
                  {
                    buyAddressType: 0,
                    startAddress: JSON.stringify({
                      addressDetail: startAddress,
                      latitude: _this11.sendAddress.latitude,
                      title: initsendressTitle,
                      name: initsendressName,
                      detail: initsendressDetail,
                      userName: _this11.endAddress.name,
                      mobile: _this11.endAddress.mobile }),

                    endAddress: JSON.stringify({
                      addressDetail: endAddress,
                      latitude: _this11.endAddress.latitude,
                      name: initendressName,
                      title: initendressTitle,
                      detail: initendressDetail,
                      userName: _this11.endAddress.name,
                      mobile: _this11.endAddress.mobile }),

                    tip: _this11.giveGrant,
                    goodsInventory: JSON.stringify({ weight: _this11.shopInfo.weight, cost: _this11.shopInfo.price, goods: _this11.shopInfo.main }),
                    distance: _this11.distance,
                    type: _this11.scrollIndex,
                    pickUpType: 0,
                    carType: _this11.car,
                    incubatorFlag: _this11.stayWarmCode,
                    premiumFlag: _this11.goldCode,
                    urgentExpressPriceFlag: _this11.urgentCode,
                    signForCodeFlag: _this11.signCode,
                    goodsPredictAmount: _goodsPredictAmount,
                    subsidy: _this11.addPirce,
                    remark: _this11.remark,
                    adcode: _this11.adcode },

                  'POST'));case 36:_res12 = _context8.sent;


                _this11.orderId = _res12.data;
                _this11.$refs.popups.close();
                _this11.$refs.popupPay.open();
                _this11.countDownTimer();_context8.next = 50;break;case 43:_context8.next = 45;return (

                  _this11.$fetch(
                  _this11.$api.orderCreate,
                  {
                    buyAddressType: 0,
                    startAddress: JSON.stringify({
                      addressDetail: startAddress,
                      latitude: _this11.sendAddress.latitude,
                      title: initsendressTitle,
                      name: initsendressName,
                      detail: initsendressDetail,
                      userName: _this11.sendAddress.name,
                      mobile: _this11.sendAddress.mobile }),

                    endAddress: JSON.stringify({
                      addressDetail: endAddress,
                      latitude: _this11.endAddress.latitude,
                      name: initendressName,
                      title: initendressTitle,
                      detail: initendressDetail,
                      userName: _this11.endAddress.name,
                      mobile: _this11.endAddress.mobile }),

                    tip: _this11.giveGrant,
                    goodsInventory: JSON.stringify({ weight: _this11.shopInfo.weight, cost: _this11.shopInfo.price, goods: _this11.shopInfo.main }),
                    distance: _this11.distance,
                    type: _this11.scrollIndex,
                    pickUpType: 0,
                    carType: _this11.car,
                    incubatorFlag: _this11.stayWarmCode,
                    premiumFlag: _this11.goldCode,
                    urgentExpressPriceFlag: _this11.urgentCode,
                    signForCodeFlag: _this11.signCode,
                    goodsPredictAmount: _goodsPredictAmount,
                    subsidy: _this11.addPirce,
                    remark: _this11.remark,
                    adcode: _this11.adcode },

                  'POST'));case 45:_res13 = _context8.sent;


                _this11.orderId = _res13.data;
                _this11.$refs.popups.close();
                _this11.$refs.popupPay.open();
                _this11.countDownTimer();case 50:_context8.next = 81;break;case 52:if (!(
















                _this11.scrollIndex === 2 && _this11.helpBuy === 0)) {_context8.next = 62;break;}_context8.next = 55;return (

                  _this11.$fetch(
                  _this11.$api.orderCreate,
                  {
                    buyAddressType: 1,
                    // startAddress: JSON.stringify({
                    // 	addressDetail: startAddress,
                    // 	latitude: this.sendAddress.latitude,
                    // 	title: initsendressTitle,
                    // 	name: initsendressName,
                    // 	detail: initsendressDetail,
                    // 	userName: this.sendAddress.name,
                    // 	mobile: this.sendAddress.mobile
                    // }),

                    startAddress: JSON.stringify({
                      addressDetail: endAddress,
                      latitude: _this11.endAddress.latitude,
                      title: initendressTitle,
                      name: initendressName,
                      detail: initendressDetail,
                      userName: _this11.endAddress.name,
                      mobile: _this11.endAddress.mobile }),


                    endAddress: JSON.stringify({
                      addressDetail: endAddress,
                      latitude: _this11.endAddress.latitude,
                      title: initendressTitle,
                      name: initendressName,
                      detail: initendressDetail,
                      userName: _this11.endAddress.name,
                      mobile: _this11.endAddress.mobile }),

                    tip: _this11.giveGrant,
                    goodsInventory: JSON.stringify({ weight: _this11.shopInfo.weight, cost: _this11.shopInfo.price, goods: _this11.shopInfo.main }),
                    distance: _this11.riderSide,
                    type: _this11.scrollIndex,
                    pickUpType: 0,
                    carType: _this11.car,
                    incubatorFlag: _this11.stayWarmCode,
                    premiumFlag: _this11.goldCode,
                    urgentExpressPriceFlag: _this11.urgentCode,
                    signForCodeFlag: _this11.signCode,
                    userCouponId: _this11.discount.id,
                    // goodsPredictAmount: this.shopInfo.price,
                    goodsPredictAmount: goodsPredictAmount,
                    subsidy: _this11.addPirce,
                    remark: _this11.remark,
                    adcode: _this11.adcode },

                  'POST'));case 55:_res14 = _context8.sent;


                // if (res.code === 0) {

                _this11.orderId = _res14.data;
                _this11.$refs.popups.close();
                _this11.$refs.popupPay.open();
                _this11.countDownTimer();
                // }
                _context8.next = 81;break;case 62:

                _goodsPredictAmount2 = 0;
                if (_this11.scrollIndex === 2) {
                  _goodsPredictAmount2 = 50;
                }if (!(
                _this11.scrollIndex == 2 && _this11.assignIndex == 1)) {_context8.next = 74;break;}_context8.next = 67;return (
                  _this11.$fetch(
                  _this11.$api.orderCreate,
                  {
                    buyAddressType: 0,
                    startAddress: JSON.stringify({
                      addressDetail: startAddress,
                      latitude: _this11.sendAddress.latitude,
                      title: initsendressTitle,
                      name: initsendressName,
                      detail: initsendressDetail,
                      userName: _this11.endAddress.name,
                      mobile: _this11.endAddress.mobile }),

                    endAddress: JSON.stringify({
                      addressDetail: endAddress,
                      latitude: _this11.endAddress.latitude,
                      title: initendressTitle,
                      name: initendressName,
                      detail: initendressDetail,
                      userName: _this11.endAddress.name,
                      mobile: _this11.endAddress.mobile }),

                    tip: _this11.giveGrant,
                    goodsInventory: JSON.stringify({ weight: _this11.shopInfo.weight, cost: _this11.shopInfo.price, goods: _this11.shopInfo.main }),
                    distance: _this11.distance,
                    type: _this11.scrollIndex,
                    pickUpType: 0,
                    carType: _this11.car,
                    incubatorFlag: _this11.stayWarmCode,
                    premiumFlag: _this11.goldCode,
                    urgentExpressPriceFlag: _this11.urgentCode,
                    signForCodeFlag: _this11.signCode,
                    userCouponId: _this11.discount.id,
                    goodsPredictAmount: _goodsPredictAmount2,
                    subsidy: _this11.addPirce,
                    remark: _this11.remark,
                    adcode: _this11.adcode },

                  'POST'));case 67:_res15 = _context8.sent;

                _this11.orderId = _res15.data;
                _this11.$refs.popups.close();
                _this11.$refs.popupPay.open();
                _this11.countDownTimer();_context8.next = 81;break;case 74:_context8.next = 76;return (

                  _this11.$fetch(
                  _this11.$api.orderCreate,
                  {
                    buyAddressType: 0,
                    startAddress: JSON.stringify({
                      addressDetail: startAddress,
                      latitude: _this11.sendAddress.latitude,
                      title: initsendressTitle,
                      name: initsendressName,
                      detail: initsendressDetail,
                      userName: _this11.sendAddress.name,
                      mobile: _this11.sendAddress.mobile }),

                    endAddress: JSON.stringify({
                      addressDetail: endAddress,
                      latitude: _this11.endAddress.latitude,
                      title: initendressTitle,
                      name: initendressName,
                      detail: initendressDetail,
                      userName: _this11.endAddress.name,
                      mobile: _this11.endAddress.mobile }),

                    tip: _this11.giveGrant,
                    goodsInventory: JSON.stringify({ weight: _this11.shopInfo.weight, cost: _this11.shopInfo.price, goods: _this11.shopInfo.main }),
                    distance: _this11.distance,
                    type: _this11.scrollIndex,
                    pickUpType: 0,
                    carType: _this11.car,
                    incubatorFlag: _this11.stayWarmCode,
                    premiumFlag: _this11.goldCode,
                    urgentExpressPriceFlag: _this11.urgentCode,
                    signForCodeFlag: _this11.signCode,
                    userCouponId: _this11.discount.id,
                    goodsPredictAmount: _goodsPredictAmount2,
                    subsidy: _this11.addPirce,
                    remark: _this11.remark,
                    adcode: _this11.adcode },

                  'POST'));case 76:_res16 = _context8.sent;

                _this11.orderId = _res16.data;
                _this11.$refs.popups.close();
                _this11.$refs.popupPay.open();
                _this11.countDownTimer();case 81:_context8.next = 123;break;case 83:if (!(

















                JSON.stringify(_this11.discount) === '{}')) {_context8.next = 104;break;}if (!(
                _this11.scrollIndex === 2 && _this11.helpBuy === 0)) {_context8.next = 95;break;}
                console.log('创建5');_context8.next = 88;return (
                  _this11.$fetch(
                  _this11.$api.orderCreate,
                  {
                    buyAddressType: 1,
                    // startAddress: JSON.stringify({
                    // 	addressDetail: startAddress,
                    // 	latitude: this.sendAddress.latitude,
                    // 	title: initsendressTitle,
                    // 	name: initsendressName,
                    // 	detail: initsendressDetail,
                    // 	userName: this.sendAddress.name,
                    // 	mobile: this.sendAddress.mobile
                    // }),
                    startAddress: JSON.stringify({
                      addressDetail: endAddress,
                      latitude: _this11.endAddress.latitude,
                      title: initendressTitle,
                      name: initendressName,
                      detail: initendressDetail,
                      userName: _this11.endAddress.name,
                      mobile: _this11.endAddress.mobile }),

                    endAddress: JSON.stringify({
                      addressDetail: endAddress,
                      latitude: _this11.endAddress.latitude,
                      title: initendressTitle,
                      name: initendressName,
                      detail: initendressDetail,
                      userName: _this11.endAddress.name,
                      mobile: _this11.endAddress.mobile }),

                    tip: _this11.giveGrant,
                    goodsInventory: JSON.stringify({ weight: _this11.shopInfo.weight, cost: _this11.shopInfo.price, goods: _this11.shopInfo.main }),
                    distance: _this11.riderSide,
                    type: _this11.scrollIndex,
                    pickUpType: 1,
                    pickUpTime: _this11.choiceTime + ':00:00',
                    carType: _this11.car,
                    incubatorFlag: _this11.stayWarmCode,
                    premiumFlag: _this11.goldCode,
                    urgentExpressPriceFlag: _this11.urgentCode,
                    signForCodeFlag: _this11.signCode,
                    // goodsPredictAmount: this.shopInfo.price,
                    goodsPredictAmount: goodsPredictAmount,
                    subsidy: _this11.addPirce,
                    remark: _this11.remark,
                    adcode: _this11.adcode },

                  'POST'));case 88:_res17 = _context8.sent;

                // if (res.code === 0) {

                _this11.orderId = _res17.data;
                _this11.$refs.popups.close();
                _this11.$refs.popupPay.open();
                _this11.countDownTimer();
                // }
                _context8.next = 102;break;case 95:_context8.next = 97;return (

                  _this11.$fetch(
                  _this11.$api.orderCreate,
                  {
                    buyAddressType: 0,
                    startAddress: JSON.stringify({
                      addressDetail: startAddress,
                      latitude: _this11.sendAddress.latitude,
                      title: initsendressTitle,
                      name: initsendressName,
                      detail: initsendressDetail,
                      userName: _this11.sendAddress.name,
                      mobile: _this11.sendAddress.mobile }),

                    endAddress: JSON.stringify({
                      addressDetail: endAddress,
                      latitude: _this11.endAddress.latitude,
                      title: initendressTitle,
                      name: initendressName,
                      detail: initendressDetail,
                      userName: _this11.endAddress.name,
                      mobile: _this11.endAddress.mobile }),

                    tip: _this11.giveGrant,
                    goodsInventory: JSON.stringify({ weight: _this11.shopInfo.weight, cost: _this11.shopInfo.price, goods: _this11.shopInfo.main }),
                    distance: _this11.distance,
                    type: _this11.scrollIndex,
                    pickUpType: 1,
                    pickUpTime: _this11.choiceTime + ':00:00',
                    carType: _this11.car,
                    incubatorFlag: _this11.stayWarmCode,
                    premiumFlag: _this11.goldCode,
                    urgentExpressPriceFlag: _this11.urgentCode,
                    signForCodeFlag: _this11.signCode,
                    // goodsPredictAmount: '',
                    goodsPredictAmount: goodsPredictAmount,
                    subsidy: _this11.addPirce,
                    remark: _this11.remark,
                    adcode: _this11.adcode },

                  'POST'));case 97:_res18 = _context8.sent;



                _this11.orderId = _res18.data;
                _this11.$refs.popups.close();
                _this11.$refs.popupPay.open();
                _this11.countDownTimer();case 102:_context8.next = 123;break;case 104:if (!(




                _this11.scrollIndex === 2 && _this11.helpBuy === 0)) {_context8.next = 114;break;}_context8.next = 107;return (

                  _this11.$fetch(
                  _this11.$api.orderCreate,
                  {
                    buyAddressType: 1,

                    startAddress: JSON.stringify({
                      addressDetail: endAddress,
                      latitude: _this11.endAddress.latitude,
                      title: initendressTitle,
                      name: initendressName,
                      detail: initendressDetail,
                      userName: _this11.endAddress.name,
                      mobile: _this11.endAddress.mobile }),

                    endAddress: JSON.stringify({
                      addressDetail: endAddress,
                      latitude: _this11.endAddress.latitude,
                      title: initendressTitle,
                      name: initendressName,
                      detail: initendressDetail,
                      userName: _this11.endAddress.name,
                      mobile: _this11.endAddress.mobile }),

                    tip: _this11.giveGrant,
                    goodsInventory: JSON.stringify({ weight: _this11.shopInfo.weight, cost: _this11.shopInfo.price, goods: _this11.shopInfo.main }),
                    distance: _this11.riderSide,
                    type: _this11.scrollIndex,
                    pickUpType: 1,
                    pickUpTime: _this11.choiceTime + ':00:00',
                    carType: _this11.car,
                    incubatorFlag: _this11.stayWarmCode,
                    premiumFlag: _this11.goldCode,
                    urgentExpressPriceFlag: _this11.urgentCode,
                    signForCodeFlag: _this11.signCode,
                    userCouponId: _this11.discount.id,
                    // goodsPredictAmount: this.shopInfo.price,
                    goodsPredictAmount: goodsPredictAmount,
                    subsidy: _this11.addPirce,
                    remark: _this11.remark,
                    adcode: _this11.adcode },

                  'POST'));case 107:_res19 = _context8.sent;



                _this11.orderId = _res19.data;
                _this11.$refs.popups.close();
                _this11.$refs.popupPay.open();
                _this11.countDownTimer();_context8.next = 123;break;case 114:_context8.next = 116;return (



                  _this11.$fetch(
                  _this11.$api.orderCreate,
                  {
                    buyAddressType: 0,
                    startAddress: JSON.stringify({
                      addressDetail: startAddress,
                      latitude: _this11.sendAddress.latitude,
                      title: initsendressTitle,
                      name: initsendressName,
                      detail: initsendressDetail,
                      userName: _this11.sendAddress.name,
                      mobile: _this11.sendAddress.mobile }),

                    endAddress: JSON.stringify({
                      addressDetail: endAddress,
                      latitude: _this11.endAddress.latitude,
                      title: initendressTitle,
                      name: initendressName,
                      detail: initendressDetail,
                      userName: _this11.endAddress.name,
                      mobile: _this11.endAddress.mobile }),

                    tip: _this11.giveGrant,
                    goodsInventory: JSON.stringify({ weight: _this11.shopInfo.weight, cost: _this11.shopInfo.price, goods: _this11.shopInfo.main }),
                    distance: _this11.distance,
                    type: _this11.scrollIndex,
                    pickUpType: 1,
                    pickUpTime: _this11.choiceTime + ':00:00',
                    carType: _this11.car,
                    incubatorFlag: _this11.stayWarmCode,
                    premiumFlag: _this11.goldCode,
                    urgentExpressPriceFlag: _this11.urgentCode,
                    signForCodeFlag: _this11.signCode,
                    userCouponId: _this11.discount.id,
                    // goodsPredictAmount: '',
                    goodsPredictAmount: goodsPredictAmount,
                    subsidy: _this11.addPirce,
                    remark: _this11.remark,
                    adcode: _this11.adcode },

                  'POST'));case 116:_res20 = _context8.sent;



                console.log(_res20);
                console.log('88s');
                _this11.orderId = _res20.data;
                _this11.$refs.popups.close();
                _this11.$refs.popupPay.open();
                _this11.countDownTimer();case 123:case "end":return _context8.stop();}}}, _callee8);}))();






    },
    //倒计时
    countDownTimer: function countDownTimer() {var _this12 = this;
      this.countDown = setInterval(function () {
        if (_this12.seconds === 0 && _this12.minutes !== 0) {
          _this12.seconds = 59;
          _this12.minutes -= 1;
        } else if (_this12.minutes === 0 && _this12.seconds === 0) {
          _this12.$refs.popupPay.close();
          _this12.seconds = 0;
          clearInterval(_this12.countDown);
          _this12.countDown = null;
          _this12.minutes = 30;
          _this12.seconds = 0;
        } else {
          _this12.seconds -= 1;
        }
      }, 1000);
    },
    num: function num(n) {
      return n < 10 ? '0' + n : '' + n;
    },
    //继续发单
    continueOrder: function continueOrder() {var _this13 = this;return _asyncToGenerator( /*#__PURE__*/_regenerator.default.mark(function _callee9() {var latitude, longitude, Radius, getRadius;return _regenerator.default.wrap(function _callee9$(_context9) {while (1) {switch (_context9.prev = _context9.next) {case 0:if (!
                _this13.horsemanCircle) {_context9.next = 15;break;}
                _this13.addPirce = _this13.newAddPrice;
                _this13.isInitOrderPriceAjax();
                _this13.horseman = false;
                //搜索骑手

                latitude = _this13.sendAddress.latitude.split(',')[1];
                longitude = _this13.sendAddress.latitude.split(',')[0];
                Radius = null;_context9.next = 9;return (
                  _this13.$fetch(_this13.$api.getScanRange, {}, 'GET', 'Form'));case 9:getRadius = _context9.sent;

                if (getRadius.code === 0) {
                  Radius = Number(getRadius.data.taskScanRange) + Number(getRadius.data.addSubsidyScanRange);
                }
                //搜索周边有无骑手
                uni.request({
                  url: 'https://tsapi.amap.com/v1/track/terminal/aroundsearch',
                  method: 'POST',
                  header: {
                    'content-type': 'application/x-www-form-urlencoded' },

                  data: {
                    // key: 'e54514186dfbafae58736cd342838baf',
                    // sid: '92478',
                    key: "4145121d3d1b5dcf41702960f3bd5adc",
                    sid: '126730',
                    center: latitude + ',' + longitude,
                    radius: Radius * 1000 },

                  success: function success(res) {
                    _this13.horsemanCount = res.data.data.count;
                    _this13.horsemanList = res.data.data.results;

                    if (_this13.horseman == false) {
                      _this13.$refs.popups.open();
                    }
                  } });


                _this13.$refs.popups.open();_context9.next = 16;break;case 15:

                uni.showToast({
                  icon: 'none',
                  title: '请仔细阅读并同意加收运力费协议' });case 16:case "end":return _context9.stop();}}}, _callee9);}))();


    },
    payOrder: function payOrder() {var _this14 = this;return _asyncToGenerator( /*#__PURE__*/_regenerator.default.mark(function _callee10() {var _res21, res, payInfo;return _regenerator.default.wrap(function _callee10$(_context10) {while (1) {switch (_context10.prev = _context10.next) {case 0:
                uni.showLoading({
                  title: '正在下单中....' });

                _this14.payFlag = false;if (!(
                _this14.circleShow === 0)) {_context10.next = 9;break;}_context10.next = 5;return (
                  _this14.$fetch(_this14.$api.orderPay, { orderId: _this14.orderId, payType: 0 }, 'POST', 'form'));case 5:_res21 = _context10.sent;

                if (_res21.code == 0) {
                  uni.hideLoading();

                  uni.showToast({
                    icon: 'success',
                    title: _res21.msg });


                  clearInterval(_this14.countDown);
                  _this14.countDown = null;
                  _this14.minutes = 30;
                  _this14.seconds = 0;

                  _this14.$refs.popupPay.close();

                  setTimeout(function () {

                    if (_this14.$dayjs().unix() < _this14.$dayjs('2020-05-28').unix()) {
                      uni.reLaunch({
                        url: '../index/index' });

                    } else {
                      uni.reLaunch({
                        url: '../SuccessOrder/SuccessOrder?orderId=' + _this14.orderId });

                    }



                  }, 1500);
                } else {
                  uni.showToast({
                    icon: 'none',
                    title: _res21.msg });


                }_context10.next = 22;break;case 9:if (!(

                _this14.circleShow == 1)) {_context10.next = 22;break;}if (!
                uni.getStorageSync('openId')) {_context10.next = 16;break;}_context10.next = 13;return (
                  _this14.$fetch(_this14.$api.orderPay, { orderId: _this14.orderId, payType: 4, openId: uni.getStorageSync('openId') }, 'POST', 'form'));case 13:res = _context10.sent;_context10.next = 19;break;case 16:_context10.next = 18;return (


                  _this14.$fetch(_this14.$api.orderPay, { orderId: _this14.orderId, payType: 4 }, 'POST', 'form'));case 18:res = _context10.sent;case 19:


                payInfo = res.data;

                uni.hideLoading();
                uni.requestPayment({
                  provider: 'wxpay',
                  timeStamp: payInfo.timeStamp,
                  nonceStr: payInfo.nonceStr,
                  package: payInfo.package,
                  signType: payInfo.signType,
                  paySign: payInfo.sign,
                  success: function success(msg) {
                    uni.showToast({
                      icon: 'success',
                      title: '支付成功' });


                    clearInterval(_this14.countDown);
                    _this14.countDown = null;
                    _this14.minutes = 30;
                    _this14.seconds = 0;

                    _this14.$refs.popupPay.close();
                    setTimeout(function () {
                      uni.navigateTo({
                        url: '../SuccessOrder/SuccessOrder?orderId=' + _this14.orderId });

                    }, 1500);
                  },
                  fail: function fail(err) {
                    uni.showToast({
                      icon: 'none',
                      title: '支付失败' });

                  } });case 22:case "end":return _context10.stop();}}}, _callee10);}))();



    },
    //富文本
    initRichText: function initRichText() {var _this15 = this;return _asyncToGenerator( /*#__PURE__*/_regenerator.default.mark(function _callee11() {var res;return _regenerator.default.wrap(function _callee11$(_context11) {while (1) {switch (_context11.prev = _context11.next) {case 0:_context11.next = 2;return (
                  _this15.$fetch(_this15.$api.articleType, { type: 5 }, 'Post', 'Form'));case 2:res = _context11.sent;

                if (res.code == 0) {
                  _this15.RichText = res.data;
                }case 4:case "end":return _context11.stop();}}}, _callee11);}))();
    },
    goToRichText: function goToRichText(id) {
      uni.navigateTo({
        // url: '../rich-text/rich-text?id=' + id
        url: '../../packageA/rich-text/rich-text?id=' + id });

    },
    choiceHelpbuyCircle: function choiceHelpbuyCircle() {
      this.helpbuyCircle = !this.helpbuyCircle;
    } } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),

/***/ 252:
/*!*********************************************************************************************************************!*\
  !*** E:/web-project/GG来送小程序/packageA/storage/storage.vue?vue&type=style&index=0&id=6e32f0b6&lang=less&scoped=true& ***!
  \*********************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _D_360_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_D_360_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_10_oneOf_1_2_D_360_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_D_360_HBuilderX_plugins_uniapp_cli_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_4_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_10_oneOf_1_5_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_storage_vue_vue_type_style_index_0_id_6e32f0b6_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--10-oneOf-1-2!./node_modules/postcss-loader/src??ref--10-oneOf-1-3!./node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--10-oneOf-1-5!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./storage.vue?vue&type=style&index=0&id=6e32f0b6&lang=less&scoped=true& */ 253);
/* harmony import */ var _D_360_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_D_360_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_10_oneOf_1_2_D_360_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_D_360_HBuilderX_plugins_uniapp_cli_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_4_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_10_oneOf_1_5_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_storage_vue_vue_type_style_index_0_id_6e32f0b6_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_D_360_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_D_360_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_10_oneOf_1_2_D_360_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_D_360_HBuilderX_plugins_uniapp_cli_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_4_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_10_oneOf_1_5_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_storage_vue_vue_type_style_index_0_id_6e32f0b6_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _D_360_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_D_360_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_10_oneOf_1_2_D_360_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_D_360_HBuilderX_plugins_uniapp_cli_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_4_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_10_oneOf_1_5_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_storage_vue_vue_type_style_index_0_id_6e32f0b6_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _D_360_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_D_360_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_10_oneOf_1_2_D_360_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_D_360_HBuilderX_plugins_uniapp_cli_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_4_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_10_oneOf_1_5_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_storage_vue_vue_type_style_index_0_id_6e32f0b6_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_D_360_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_D_360_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_10_oneOf_1_2_D_360_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_D_360_HBuilderX_plugins_uniapp_cli_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_4_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_10_oneOf_1_5_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_360_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_storage_vue_vue_type_style_index_0_id_6e32f0b6_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 253:
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--10-oneOf-1-2!./node_modules/postcss-loader/src??ref--10-oneOf-1-3!./node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--10-oneOf-1-5!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/web-project/GG来送小程序/packageA/storage/storage.vue?vue&type=style&index=0&id=6e32f0b6&lang=less&scoped=true& ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(false) { var cssReload; }
  

/***/ })

},[[246,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/packageA/storage/storage.js.map